# 05-3: Reference vs Value (à¸„à¸§à¸²à¸¡à¸¥à¸±à¸šà¸‚à¸­à¸‡à¸à¸²à¸£à¸„à¸±à¸”à¸¥à¸­à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥) ğŸ§¬

> **"In programming, the hardest bugs come from not understanding who owns the data."**
> â€” *Unknown*

à¸™à¸µà¹ˆà¸„à¸·à¸­à¸«à¸™à¸¶à¹ˆà¸‡à¹ƒà¸™à¸«à¸±à¸§à¸‚à¹‰à¸­ **à¸ªà¸³à¸„à¸±à¸à¸—à¸µà¹ˆà¸ªà¸¸à¸”** à¸—à¸µà¹ˆà¸¡à¸·à¸­à¹ƒà¸«à¸¡à¹ˆà¸¡à¸±à¸à¸¡à¸­à¸‡à¸‚à¹‰à¸²à¸¡à¸„à¸£à¸±à¸š! à¸–à¹‰à¸²à¹„à¸¡à¹ˆà¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¹€à¸£à¸·à¹ˆà¸­à¸‡à¸™à¸µà¹‰ à¸„à¸¸à¸“à¸ˆà¸°à¹€à¸ˆà¸­ **Bug à¸¥à¸¶à¸à¸¥à¸±à¸š** à¸—à¸µà¹ˆà¸«à¸²à¸ªà¸²à¹€à¸«à¸•à¸¸à¹„à¸¡à¹ˆà¹€à¸ˆà¸­ ğŸ•µï¸

> **ğŸ’¡ Analogy (à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸š):**
> - **Pass by Value** = à¸–à¹ˆà¸²à¸¢à¹€à¸­à¸à¸ªà¸²à¸£ ğŸ“„ (à¸„à¸™à¸¥à¸°à¸Šà¸¸à¸” à¹à¸à¹‰à¹„à¸¡à¹ˆà¸à¸£à¸°à¸—à¸šà¸à¸±à¸™)
> - **Pass by Reference** = à¹ƒà¸«à¹‰à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆà¸šà¹‰à¸²à¸™ ğŸ  (à¸Šà¸µà¹‰à¹„à¸›à¸—à¸µà¹ˆà¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™ à¹à¸à¹‰à¸„à¸™à¸«à¸™à¸¶à¹ˆà¸‡à¸­à¸µà¸à¸„à¸™à¹€à¸«à¹‡à¸™!)



## 1. Primitive = Copy by Value (à¸–à¹ˆà¸²à¸¢à¹€à¸­à¸à¸ªà¸²à¸£) ğŸ“„

**Primitive Types:** `string`, `number`, `boolean`, `null`, `undefined`, `bigint`, `symbol`

à¹€à¸¡à¸·à¹ˆà¸­ Assign à¸„à¹ˆà¸² Primitive à¹ƒà¸«à¹‰à¸•à¸±à¸§à¹à¸›à¸£à¹ƒà¸«à¸¡à¹ˆ â†’ à¸¡à¸±à¸™à¸ˆà¸° **Copy à¸„à¹ˆà¸²à¸ˆà¸£à¸´à¸‡à¹†** à¹„à¸›à¹€à¸à¹‡à¸šà¹à¸¢à¸à¸à¸±à¸™:

```javascript
let a = 10;
let b = a;      // b à¹„à¸”à¹‰ "à¸ªà¸³à¹€à¸™à¸²" à¸‚à¸­à¸‡ 10 à¹„à¸› (à¸„à¸™à¸¥à¸°à¸•à¸±à¸§!)

b = 99;

console.log(a); // 10 (a à¹„à¸¡à¹ˆà¹‚à¸”à¸™à¸à¸£à¸°à¸—à¸š! âœ…)
console.log(b); // 99
```

### à¸ à¸²à¸à¹ƒà¸™à¸«à¸±à¸§ (Memory Model):

```
Stack Memory:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”
â”‚  a      â”‚  10   â”‚  â† à¸„à¹ˆà¸²à¸‚à¸­à¸‡à¸•à¸±à¸§à¹€à¸­à¸‡
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  b      â”‚  99   â”‚  â† à¸„à¹ˆà¸²à¸‚à¸­à¸‡à¸•à¸±à¸§à¹€à¸­à¸‡ (à¹à¸à¹‰ b à¹„à¸¡à¹ˆà¸à¸£à¸°à¸—à¸š a)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜
```

```javascript
// à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¹€à¸à¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡ â€” à¸—à¸¸à¸ Primitive Type à¹€à¸›à¹‡à¸™ Copy by Value
let name1 = "Hello";
let name2 = name1;
name2 = "World";
console.log(name1); // "Hello" (à¹„à¸¡à¹ˆà¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™!)

let flag1 = true;
let flag2 = flag1;
flag2 = false;
console.log(flag1); // true (à¹„à¸¡à¹ˆà¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™!)
```



## 2. Object/Array = Copy by Reference (à¹ƒà¸«à¹‰à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ) ğŸ 

**Reference Types:** `Object`, `Array`, `Function`, `Date`, `RegExp`, etc.

à¹€à¸¡à¸·à¹ˆà¸­ Assign Object/Array à¹ƒà¸«à¹‰à¸•à¸±à¸§à¹à¸›à¸£à¹ƒà¸«à¸¡à¹ˆ â†’ à¹„à¸¡à¹ˆà¹„à¸”à¹‰ Copy à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ à¹à¸•à¹ˆ **Copy "à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ" (Reference)**:

```javascript
const original = { name: "Dolar", score: 100 };
const alias = original;  // â† copy "à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ" à¹„à¸¡à¹ˆà¹ƒà¸Šà¹ˆ copy à¸‚à¹‰à¸­à¸¡à¸¹à¸¥!

alias.score = 999;

console.log(original.score); // 999 ğŸ˜± (original à¹‚à¸”à¸™à¹à¸à¹‰à¸”à¹‰à¸§à¸¢!)
console.log(alias.score);    // 999
```

### à¸ à¸²à¸à¹ƒà¸™à¸«à¸±à¸§ (Memory Model):

```
Stack Memory:                    Heap Memory:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ originalâ”‚ â—â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ { name: "Dolar",     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”‚   score: 999 }       â”‚
â”‚ alias   â”‚ â—â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â†‘ à¸—à¸±à¹‰à¸‡ 2 à¸Šà¸µà¹‰à¹„à¸›à¸—à¸µà¹ˆà¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™!
```

### Array à¸à¹‡à¹€à¸Šà¹ˆà¸™à¸à¸±à¸™!

```javascript
const fruits = ["Apple", "Banana"];
const snacks = fruits;          // à¹„à¸¡à¹ˆà¹„à¸”à¹‰ Copy! à¹à¸„à¹ˆà¸Šà¸µà¹‰à¸—à¸µà¹ˆà¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™
snacks.push("Cherry");

console.log(fruits); // ["Apple", "Banana", "Cherry"] ğŸ˜±
console.log(snacks); // ["Apple", "Banana", "Cherry"]
// â†‘ à¸—à¸±à¹‰à¸‡à¸ªà¸­à¸‡à¸•à¸±à¸§à¹€à¸›à¹‡à¸™à¸Šà¸·à¹ˆà¸­à¹€à¸¥à¹ˆà¸™à¸‚à¸­à¸‡ Array à¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™!
```





## 3. `const` à¸à¸±à¸š Reference Types (à¸à¸±à¸šà¸”à¸±à¸!) âš ï¸

à¸ˆà¸³à¹„à¸§à¹‰à¸§à¹ˆà¸² `const` à¸«à¹‰à¸²à¸¡à¹à¸„à¹ˆ **à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ Reference (à¸à¸¥à¹ˆà¸­à¸‡)** à¹à¸•à¹ˆ **à¹à¸à¹‰à¹„à¸ªà¹‰à¹ƒà¸™ (Mutate) à¹„à¸”à¹‰!**

```javascript
const user = { name: "Dolar" };

// âœ… à¹à¸à¹‰à¹„à¸ªà¹‰à¹ƒà¸™ â†’ à¹„à¸”à¹‰! (Mutation)
user.name = "Somchai";
user.age = 30;
console.log(user); // { name: "Somchai", age: 30 }

// âŒ à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸à¸¥à¹ˆà¸­à¸‡ â†’ Error! (Reassignment)
// user = { name: "Noi" }; // TypeError: Assignment to constant variable
```

### ğŸ“Š const Behavior Table

| Data Type | à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸„à¹ˆà¸² (Reassign) | à¹à¸à¹‰à¹„à¸ªà¹‰à¹ƒà¸™ (Mutate) |
|:----------|:--------------------:|:-----------------:|
| **Primitive** (`const x = 5`) | âŒ à¹„à¸¡à¹ˆà¹„à¸”à¹‰ | â€” (à¹„à¸¡à¹ˆà¸¡à¸µà¹„à¸ªà¹‰à¹ƒà¸™) |
| **Object** (`const obj = {}`) | âŒ à¹„à¸¡à¹ˆà¹„à¸”à¹‰ | âœ… **à¹„à¸”à¹‰!** |
| **Array** (`const arr = []`) | âŒ à¹„à¸¡à¹ˆà¹„à¸”à¹‰ | âœ… **à¹„à¸”à¹‰!** |





## 4. Equality with Reference Types (à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸š) âš–ï¸

```javascript
// âš ï¸ Object/Array à¹€à¸—à¸µà¸¢à¸š "à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ" à¹„à¸¡à¹ˆà¹ƒà¸Šà¹ˆ "à¹€à¸™à¸·à¹‰à¸­à¸«à¸²"!
console.log([1, 2] === [1, 2]);     // false ğŸ˜± (à¸„à¸™à¸¥à¸°à¸à¸¥à¹ˆà¸­à¸‡!)
console.log({} === {});             // false ğŸ˜±
console.log({ a: 1 } === { a: 1 }); // false ğŸ˜±

// à¸Šà¸µà¹‰à¸—à¸µà¹ˆà¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™à¸–à¸¶à¸‡à¸ˆà¸° true:
const a = [1, 2];
const b = a;
console.log(a === b); // true âœ… (à¸à¸¥à¹ˆà¸­à¸‡à¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™!)
```

### ğŸ“Š Value vs Reference Equality

| | **Primitive** | **Object/Array** |
|:--|:------------|:----------------|
| `===` à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸š | **à¸„à¹ˆà¸²** (Value) | **à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ** (Reference) |
| `5 === 5` | `true` âœ… | â€” |
| `[1,2] === [1,2]` | â€” | `false` âŒ (à¸„à¸™à¸¥à¸° ref!) |
| à¸•à¹‰à¸­à¸‡ deep compare? | à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡ | âœ… à¸•à¹‰à¸­à¸‡! |

### Deep Comparison (à¹€à¸—à¸µà¸¢à¸šà¹€à¸™à¸·à¹‰à¸­à¸«à¸²à¸ˆà¸£à¸´à¸‡):
```javascript
// âœ… à¸§à¸´à¸˜à¸µ Quick & Dirty à¸ªà¸³à¸«à¸£à¸±à¸š Simple Objects:
const obj1 = { a: 1, b: 2 };
const obj2 = { a: 1, b: 2 };
console.log(JSON.stringify(obj1) === JSON.stringify(obj2)); // true

// âš ï¸ JSON.stringify à¹„à¸¡à¹ˆà¹€à¸«à¸¡à¸²à¸°à¸à¸±à¸š: functions, undefined, circular references
```



## 5. Shallow Copy (à¸ªà¸³à¹€à¸™à¸²à¸•à¸·à¹‰à¸™) ğŸ“‹

### à¸§à¸´à¸˜à¸µ Copy à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸Šà¸µà¹‰à¸—à¸µà¹ˆà¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™:

```javascript
// âœ… Array: Spread Operator
const original = [1, 2, 3];
const clone = [...original];           // à¸ªà¸£à¹‰à¸²à¸‡ Array à¹ƒà¸«à¸¡à¹ˆ!
clone.push(4);
console.log(original); // [1, 2, 3] (à¹„à¸¡à¹ˆà¹‚à¸”à¸™à¸à¸£à¸°à¸—à¸š! âœ…)

// âœ… Array: slice() (à¸§à¸´à¸˜à¸µà¹€à¸à¹ˆà¸²)
const clone2 = original.slice();

// âœ… Array: Array.from()
const clone3 = Array.from(original);

// âœ… Object: Spread Operator
const user = { name: "Dolar", age: 25 };
const userCopy = { ...user };
userCopy.name = "Somchai";
console.log(user.name); // "Dolar" (à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢! âœ…)

// âœ… Object: Object.assign()
const userCopy2 = Object.assign({}, user);
```

### ğŸ“Š Shallow Copy Methods

| à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ | Method 1 | Method 2 | Method 3 |
|:-------|:---------|:---------|:---------|
| **Array** | `[...arr]` â­ | `arr.slice()` | `Array.from(arr)` |
| **Object** | `{...obj}` â­ | `Object.assign({}, obj)` | â€” |



## 6. âš ï¸ Shallow Copy Trap (à¸à¸±à¸šà¸”à¸±à¸à¸ªà¸³à¹€à¸™à¸²à¸•à¸·à¹‰à¸™!)

Shallow Copy à¸à¹‡à¸­à¸›à¸›à¸µà¹‰à¹à¸„à¹ˆ **à¸Šà¸±à¹‰à¸™à¹à¸£à¸** â€” à¸–à¹‰à¸²à¸¡à¸µ Object/Array à¸‹à¹‰à¸­à¸™à¸‚à¹‰à¸²à¸‡à¹ƒà¸™ à¸¡à¸±à¸™à¸¢à¸±à¸‡ **à¸Šà¸µà¹‰à¸—à¸µà¹ˆà¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™!**

```javascript
const config = {
    theme: "dark",           // Primitive â†’ Copy à¸„à¹ˆà¸²à¸ˆà¸£à¸´à¸‡ âœ…
    settings: {              // Object â†’ Copy à¹à¸„à¹ˆà¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ! âš ï¸
        fontSize: 14,
        language: "th",
    },
};

const backup = { ...config }; // Shallow Copy

backup.theme = "light";           // âœ… à¹„à¸¡à¹ˆà¸à¸£à¸°à¸—à¸š config
backup.settings.fontSize = 20;    // âŒ à¸à¸£à¸°à¸—à¸š config à¸”à¹‰à¸§à¸¢!

console.log(config.theme);           // "dark" âœ… (Primitive â†’ Copy à¸„à¹ˆà¸²)
console.log(config.settings.fontSize); // 20 ğŸ˜± (Object â†’ à¸Šà¸µà¹‰à¸—à¸µà¹ˆà¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™!)
```

### à¸ à¸²à¸ Shallow Copy:

```
Stack                       Heap (Layer 1)                  Heap (Layer 2)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ config â”‚ â—â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â–¶â”‚ { theme: "dark",     â”‚             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        â”‚        â”‚      â”‚   settings: â—â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ { fontSize: 20,     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚   language: "th" }  â”‚
â”‚ backup â”‚ â—â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”                                    â”Œâ”€â”€â–¶â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â””â”€â”€â–¶â”‚ { theme: "light",    â”‚         â”‚
                         â”‚   settings: â—â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†‘ 1. Object à¸„à¸™à¸¥à¸°à¸•à¸±à¸§               â†‘ 2. à¹„à¸ªà¹‰à¹ƒà¸™à¸Šà¸µà¹‰à¸•à¸±à¸§à¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™!
                             (à¹à¸à¹‰ theme à¹„à¸¡à¹ˆà¸à¸£à¸°à¸—à¸š)               (à¹à¸à¹‰ fontSize à¸à¸£à¸°à¸—à¸š!)
```



## 7. Deep Copy (à¸ªà¸³à¹€à¸™à¸²à¸¥à¸¶à¸) ğŸŠ

à¸ªà¸³à¸«à¸£à¸±à¸š Object à¸—à¸µà¹ˆà¸¡à¸µà¸«à¸¥à¸²à¸¢à¸Šà¸±à¹‰à¸™ à¸•à¹‰à¸­à¸‡à¹ƒà¸Šà¹‰ **Deep Copy**:

### à¸§à¸´à¸˜à¸µà¸—à¸µà¹ˆ 1: `structuredClone()` (â­ à¸”à¸µà¸—à¸µà¹ˆà¸ªà¸¸à¸”! â€” Modern JS)

```javascript
const team = {
    name: "Avengers",
    members: ["Iron Man", "Thor"],
    meta: { founded: 2012 },
};

const deepCopy = structuredClone(team);
deepCopy.members.push("Hulk");
deepCopy.meta.founded = 2024;

console.log(team.members);      // ["Iron Man", "Thor"] âœ… (à¹„à¸¡à¹ˆà¸à¸£à¸°à¸—à¸š!)
console.log(team.meta.founded);  // 2012 âœ…
console.log(deepCopy.members);   // ["Iron Man", "Thor", "Hulk"]
console.log(deepCopy.meta.founded); // 2024
```

### à¸§à¸´à¸˜à¸µà¸—à¸µà¹ˆ 2: `JSON.parse(JSON.stringify())` (à¸§à¸´à¸˜à¸µà¹€à¸à¹ˆà¸²)

```javascript
const deepCopy2 = JSON.parse(JSON.stringify(team));
// âš ï¸ à¸‚à¹‰à¸­à¸ˆà¸³à¸à¸±à¸”: à¹ƒà¸Šà¹‰à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¸à¸±à¸š Functions, undefined, Date, RegExp, Map, Set
```

### ğŸ“Š Copy Methods Comparison

| Method | à¸£à¸°à¸”à¸±à¸š | à¹ƒà¸Šà¹‰à¸à¸±à¸š Function à¹„à¸”à¹‰? | Performance | à¹à¸™à¸°à¸™à¸³ |
|:-------|:-----|:--------------------|:-----------|:------|
| `{...obj}` | Shallow | â€” | âš¡ à¹€à¸£à¹‡à¸§ | âœ… Object à¸Šà¸±à¹‰à¸™à¹€à¸”à¸µà¸¢à¸§ |
| `[...arr]` | Shallow | â€” | âš¡ à¹€à¸£à¹‡à¸§ | âœ… Array à¸Šà¸±à¹‰à¸™à¹€à¸”à¸µà¸¢à¸§ |
| `structuredClone()` | **Deep** | âŒ | ğŸ¢ à¸Šà¹‰à¸²à¸à¸§à¹ˆà¸² | â­ **Object à¸‹à¹‰à¸­à¸™** |
| `JSON.parse(stringify())` | Deep | âŒ | ğŸ¢ à¸Šà¹‰à¸² | âš ï¸ Backup à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™ |



## 8. Function Arguments â€” Value vs Reference ğŸ“¨

à¹€à¸£à¸·à¹ˆà¸­à¸‡ Reference à¸ªà¹ˆà¸‡à¸œà¸¥à¸–à¸¶à¸‡ **Function Arguments** à¸”à¹‰à¸§à¸¢:

```javascript
// Primitive â†’ Copy by Value (à¹„à¸¡à¹ˆà¸à¸£à¸°à¸—à¸šà¸•à¸±à¸§à¹€à¸”à¸´à¸¡)
function doubleNumber(n) {
    n = n * 2;
    console.log("Inside:", n);
}

let myNum = 5;
doubleNumber(myNum);
console.log("Outside:", myNum);  // 5 âœ… (à¹„à¸¡à¹ˆà¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™!)

// Object â†’ Copy by Reference (à¸à¸£à¸°à¸—à¸šà¸•à¸±à¸§à¹€à¸”à¸´à¸¡!)
function addSkill(user, skill) {
    user.skills.push(skill);  // âš ï¸ à¹à¸à¹‰à¸‚à¸­à¸‡à¹€à¸”à¸´à¸¡!
}

const dev = { name: "Dolar", skills: ["JS"] };
addSkill(dev, "React");
console.log(dev.skills);  // ["JS", "React"] ğŸ˜± (à¹‚à¸”à¸™à¹à¸à¹‰!)
```

### â­ Best Practice: à¹„à¸¡à¹ˆà¹à¸à¹‰ Object à¸•à¹‰à¸™à¸‰à¸šà¸±à¸šà¹ƒà¸™ Function

```javascript
// âœ… GOOD: Return Object à¹ƒà¸«à¸¡à¹ˆà¹à¸—à¸™ (Immutable Pattern)
function addSkillSafe(user, skill) {
    return {
        ...user,
        skills: [...user.skills, skill],  // à¸ªà¸£à¹‰à¸²à¸‡ Array à¹ƒà¸«à¸¡à¹ˆ
    };
}

const dev = { name: "Dolar", skills: ["JS"] };
const updatedDev = addSkillSafe(dev, "React");
console.log(dev.skills);        // ["JS"] âœ… (à¹„à¸¡à¹ˆà¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™!)
console.log(updatedDev.skills);  // ["JS", "React"]
```

## Real-World Use Case: State Management à¹ƒà¸™ UI ğŸŒ

```javascript
// âŒ à¸œà¸´à¸”: à¹à¸à¹‰ state à¹‚à¸”à¸¢à¸•à¸£à¸‡ (Mutation)
const state = { count: 0, items: ["a"] };
state.count = 1;          // Mutate!
state.items.push("b");    // Mutate!

// âœ… à¸–à¸¹à¸: à¸ªà¸£à¹‰à¸²à¸‡ state à¹ƒà¸«à¸¡à¹ˆà¸—à¸¸à¸à¸„à¸£à¸±à¹‰à¸‡ (Immutable Update)
const newState = {
    ...state,
    count: state.count + 1,
    items: [...state.items, "c"]
};
// state à¹€à¸”à¸´à¸¡à¹„à¸¡à¹ˆà¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™, newState à¹€à¸›à¹‡à¸™à¸„à¹ˆà¸²à¹ƒà¸«à¸¡à¹ˆ
```

> ğŸ’¡ à¸™à¸µà¹ˆà¸„à¸·à¸­à¸«à¸¥à¸±à¸à¸à¸²à¸£à¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸šà¸—à¸µà¹ˆ **React** à¹à¸¥à¸° **Redux** à¹ƒà¸Šà¹‰ â€” à¸«à¹‰à¸²à¸¡ mutate state à¹‚à¸”à¸¢à¸•à¸£à¸‡!



## 9. Challenges ğŸ†


à¸—à¸”à¸ªà¸­à¸šà¸„à¸§à¸²à¸¡à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¸à¸±à¸šà¹‚à¸ˆà¸—à¸¢à¹Œ 8 à¸‚à¹‰à¸­ (1 à¸‚à¹‰à¸­à¸•à¹ˆà¸­ 1 à¸«à¸±à¸§à¸‚à¹‰à¸­):

### ğŸ¯ Challenge 1: Copy Cat
**à¸«à¸±à¸§à¸‚à¹‰à¸­:** 1. Primitive Copy

**à¹‚à¸ˆà¸—à¸¢à¹Œ:** à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œà¸„à¸·à¸­à¸­à¸°à¹„à¸£?
```javascript
let a = "Hi";
let b = a;
b = "Bye";
console.log(a); // ?
```
::: details âœ¨ à¸”à¸¹à¹€à¸‰à¸¥à¸¢
**"Hi"** à¸„à¸£à¸±à¸š (Primitive Copy à¸„à¹ˆà¸² à¹„à¸¡à¹ˆà¸à¸£à¸°à¸—à¸šà¸•à¸±à¸§à¹€à¸”à¸´à¸¡)
:::

### ğŸ¯ Challenge 2: Twin Objects
**à¸«à¸±à¸§à¸‚à¹‰à¸­:** 2. Reference Copy

**à¹‚à¸ˆà¸—à¸¢à¹Œ:** à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œà¸„à¸·à¸­à¸­à¸°à¹„à¸£?
```javascript
const obj1 = { val: 10 };
const obj2 = obj1;
obj2.val = 20;
console.log(obj1.val); // ?
```
::: details âœ¨ à¸”à¸¹à¹€à¸‰à¸¥à¸¢
**20** à¸„à¸£à¸±à¸š (à¸Šà¸µà¹‰à¸—à¸µà¹ˆà¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™ à¹à¸à¹‰à¸•à¸±à¸§à¸«à¸™à¸¶à¹ˆà¸‡à¸à¸£à¸°à¸—à¸šà¸­à¸µà¸à¸•à¸±à¸§)
:::

### ğŸ¯ Challenge 3: Const Jail
**à¸«à¸±à¸§à¸‚à¹‰à¸­:** 3. Const & Reference

**à¹‚à¸ˆà¸—à¸¢à¹Œ:** à¸—à¸³à¹„à¸¡à¹‚à¸„à¹‰à¸”à¸™à¸µà¹‰à¹„à¸¡à¹ˆ Error? `const arr = []; arr.push(1);`
::: details âœ¨ à¸”à¸¹à¹€à¸‰à¸¥à¸¢
à¹€à¸à¸£à¸²à¸°à¹€à¸£à¸²à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ **Reference** (à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¹ƒà¸Šà¹‰ `=`) à¹à¸•à¹ˆà¹€à¸£à¸²à¹à¸„à¹ˆà¹à¸à¹‰à¹„à¸‚ **à¹„à¸ªà¹‰à¹ƒà¸™** (Mutation) à¸‹à¸¶à¹ˆà¸‡ `const` à¸­à¸™à¸¸à¸à¸²à¸•à¸„à¸£à¸±à¸š
:::

### ğŸ¯ Challenge 4: Equality Test
**à¸«à¸±à¸§à¸‚à¹‰à¸­:** 4. Equality

**à¹‚à¸ˆà¸—à¸¢à¹Œ:** `console.log({} === {})` à¹„à¸”à¹‰à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œà¹€à¸›à¹‡à¸™ `true` à¸«à¸£à¸·à¸­ `false`? à¹€à¸à¸£à¸²à¸°à¸­à¸°à¹„à¸£?
::: details âœ¨ à¸”à¸¹à¹€à¸‰à¸¥à¸¢
**false** à¸„à¸£à¸±à¸š à¹€à¸à¸£à¸²à¸°à¸¡à¸±à¸™à¸ªà¸£à¹‰à¸²à¸‡ Object à¸„à¸™à¸¥à¸°à¸à¸¥à¹ˆà¸­à¸‡à¸à¸±à¸™ (à¸„à¸™à¸¥à¸° Reference)
:::

### ğŸ¯ Challenge 5: Spread Copy
**à¸«à¸±à¸§à¸‚à¹‰à¸­:** 5. Shallow Copy

**à¹‚à¸ˆà¸—à¸¢à¹Œ:** à¸ªà¸£à¹‰à¸²à¸‡à¸•à¸±à¸§à¹à¸›à¸£ `arr2` à¸—à¸µà¹ˆ Copy `arr1` à¸¡à¸²à¹à¸šà¸šà¹„à¸¡à¹ˆà¸à¸£à¸°à¸—à¸šà¸à¸±à¸™ (Shallow Copy)
```javascript
const arr1 = [1, 2, 3];
```
::: details âœ¨ à¸”à¸¹à¹€à¸‰à¸¥à¸¢
```javascript
const arr2 = [...arr1];
```
:::

### ğŸ¯ Challenge 6: Nested Trap
**à¸«à¸±à¸§à¸‚à¹‰à¸­:** 6. Shallow Copy Trap

**à¹‚à¸ˆà¸—à¸¢à¹Œ:** à¸–à¹‰à¸²à¹ƒà¸Šà¹‰ Spread Operator Copy Object à¸—à¸µà¹ˆà¸¡à¸µ Object à¸‹à¹‰à¸­à¸™à¸‚à¹‰à¸²à¸‡à¹ƒà¸™ Object à¸Šà¸±à¹‰à¸™à¹ƒà¸™à¸ˆà¸°à¸–à¸¹à¸ Copy à¹à¸šà¸šà¹„à¸«à¸™? (By Value à¸«à¸£à¸·à¸­ Reference)
::: details âœ¨ à¸”à¸¹à¹€à¸‰à¸¥à¸¢
**By Reference** à¸„à¸£à¸±à¸š (à¸¢à¸±à¸‡à¸Šà¸µà¹‰à¸—à¸µà¹ˆà¹€à¸”à¸´à¸¡) à¸–à¹‰à¸²à¹à¸à¹‰ Object à¸Šà¸±à¹‰à¸™à¹ƒà¸™ à¸•à¸±à¸§à¸•à¹‰à¸™à¸‰à¸šà¸±à¸šà¸ˆà¸°à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸”à¹‰à¸§à¸¢!
:::

### ğŸ¯ Challenge 7: Deep Clone
**à¸«à¸±à¸§à¸‚à¹‰à¸­:** 7. Deep Copy

**à¹‚à¸ˆà¸—à¸¢à¹Œ:** à¸§à¸´à¸˜à¸µà¸—à¸µà¹ˆà¸”à¸µà¸—à¸µà¹ˆà¸ªà¸¸à¸”à¹ƒà¸™ Modern JS à¹ƒà¸™à¸à¸²à¸£ Deep Copy Object à¸„à¸·à¸­à¹ƒà¸Šà¹‰à¸­à¸°à¹„à¸£?
::: details âœ¨ à¸”à¸¹à¹€à¸‰à¸¥à¸¢
**`structuredClone()`** à¸„à¸£à¸±à¸š
:::

### ğŸ¯ Challenge 8: Safe Function
**à¸«à¸±à¸§à¸‚à¹‰à¸­:** 8. Function Arguments

**à¹‚à¸ˆà¸—à¸¢à¹Œ:** à¹€à¸‚à¸µà¸¢à¸™à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™ `addPoints(player, points)` à¸—à¸µà¹ˆ return player à¸„à¸™à¹ƒà¸«à¸¡à¹ˆà¸—à¸µà¹ˆà¸¡à¸µà¸„à¸°à¹à¸™à¸™à¹€à¸à¸´à¹ˆà¸¡à¸‚à¸¶à¹‰à¸™ (à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¹à¸à¹‰ player à¹€à¸”à¸´à¸¡)
::: details âœ¨ à¸”à¸¹à¹€à¸‰à¸¥à¸¢
```javascript
function addPoints(player, points) {
    return { ...player, score: player.score + points };
}
```
:::



> **ğŸ“– à¸„à¸³à¸¨à¸±à¸à¸—à¹Œà¹€à¸—à¸„à¸™à¸´à¸„ (Glossary):**
> *   **Primitive:** à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸·à¹‰à¸™à¸à¸²à¸™ 7 à¸Šà¸™à¸´à¸” (string, number, boolean, null, undefined, bigint, symbol)
> *   **Reference Type:** à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¹€à¸à¹‡à¸šà¹€à¸›à¹‡à¸™ "à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ" (Object, Array, Function)
> *   **Pass by Value:** à¸à¸²à¸£à¸ªà¹ˆà¸‡à¸„à¹ˆà¸²à¹à¸šà¸š Copy (à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸•à¸±à¸§à¸«à¸™à¸¶à¹ˆà¸‡à¹„à¸¡à¹ˆà¸à¸£à¸°à¸—à¸šà¸­à¸µà¸à¸•à¸±à¸§)
> *   **Pass by Reference:** à¸à¸²à¸£à¸ªà¹ˆà¸‡ "à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ" (à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸•à¸±à¸§à¸«à¸™à¸¶à¹ˆà¸‡à¸à¸£à¸°à¸—à¸šà¸­à¸µà¸à¸•à¸±à¸§!)
> *   **Shallow Copy:** à¸ªà¸³à¹€à¸™à¸²à¸Šà¸±à¹‰à¸™à¹€à¸”à¸µà¸¢à¸§ (Object/Array à¸‹à¹‰à¸­à¸™à¸¢à¸±à¸‡à¸Šà¸µà¹‰à¸—à¸µà¹ˆà¹€à¸”à¸´à¸¡)
> *   **Deep Copy:** à¸ªà¸³à¹€à¸™à¸²à¸—à¸¸à¸à¸Šà¸±à¹‰à¸™ (à¸—à¸¸à¸à¸­à¸¢à¹ˆà¸²à¸‡à¹€à¸›à¹‡à¸™à¸­à¸´à¸ªà¸£à¸°à¸ˆà¸²à¸à¸à¸±à¸™)
> *   **Mutate (à¸à¸¥à¸²à¸¢à¸à¸±à¸™à¸˜à¸¸à¹Œ):** à¸à¸²à¸£à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸›à¸¥à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‚à¹‰à¸²à¸‡à¹ƒà¸™à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸ªà¸£à¹‰à¸²à¸‡à¸•à¸±à¸§à¹ƒà¸«à¸¡à¹ˆ
> *   **Immutable:** à¹à¸™à¸§à¸„à¸´à¸”à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¹‰à¸™à¸‰à¸šà¸±à¸š à¹à¸•à¹ˆà¸ªà¸£à¹‰à¸²à¸‡à¹ƒà¸«à¸¡à¹ˆà¹à¸—à¸™
> *   **`structuredClone()`:** Built-in function à¸ªà¸³à¸«à¸£à¸±à¸š Deep Copy (Modern JS)
> *   **Spread Operator (`...`):** Syntax à¸ªà¸³à¸«à¸£à¸±à¸š Shallow Copy à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
> *   **Alias:** à¸Šà¸·à¹ˆà¸­à¹€à¸¥à¹ˆà¸™à¸—à¸µà¹ˆà¸Šà¸µà¹‰à¹„à¸›à¸—à¸µà¹ˆ Object/Array à¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™
> *   **Stack / Heap:** à¸ªà¹ˆà¸§à¸™à¸‚à¸­à¸‡à¸«à¸™à¹ˆà¸§à¸¢à¸„à¸§à¸²à¸¡à¸ˆà¸³ â€” Stack à¹€à¸à¹‡à¸š Primitive, Heap à¹€à¸à¹‡à¸š Object


ğŸ‘‰ **[à¹€à¸£à¸´à¹ˆà¸¡à¸—à¸³à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ: Project - The Console Todo List](/javascript/05-project-todo)**
