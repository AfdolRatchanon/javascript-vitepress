# 05-3: Reference vs Value (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•) üß¨

> **"In programming, the hardest bugs come from not understanding who owns the data."**
> ‚Äî *Unknown*

‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà **‡∏õ‡∏£‡∏≤‡∏ö‡πÄ‡∏ã‡∏µ‡∏¢‡∏ô (Gotcha)** ‡∏°‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô JavaScript ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏ö‡∏±‡πä‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏¢‡∏≤‡∏Å‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≠‡∏á!

## 1. ‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô: Primitives vs Objects (‡∏Ñ‡πà‡∏≤ vs ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà) üè†

‡πÄ‡∏£‡∏≤‡πÄ‡∏Ñ‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á **Stack vs Heap** ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ô‡∏ö‡∏ó 02-02 ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏°‡∏≤‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ô‡∏™‡πà‡∏á‡∏ú‡∏•‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏Å‡∏±‡∏ö‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏à‡∏£‡∏¥‡∏á:

### A. Primitives (Copy by Value ‚Äî ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤‡πÑ‡∏õ‡πÄ‡∏•‡∏¢)
```javascript
let a = 10;
let b = a; // b ‡πÑ‡∏î‡πâ "‡∏™‡∏≥‡πÄ‡∏ô‡∏≤" ‡∏Ç‡∏≠‡∏á 10 ‡πÑ‡∏õ (‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡∏°‡πà)

b = 99;

console.log(a); // 10 (a ‡πÑ‡∏°‡πà‡πÇ‡∏î‡∏ô‡∏Å‡∏£‡∏∞‡∏ó‡∏ö!)
console.log(b); // 99
```
> üì¶ ‡∏à‡∏¥‡∏ô‡∏ï‡∏ô‡∏≤‡∏Å‡∏≤‡∏£: ‡∏Ñ‡∏∏‡∏ì **‡∏ñ‡πà‡∏≤‡∏¢‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ (Photocopy)** ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á `a` ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏´‡πâ `b` ‡πÑ‡∏õ ‚Äî ‡∏ï‡πà‡∏≤‡∏á‡∏Ñ‡∏ô‡∏ï‡πà‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏Å‡∏±‡∏ô

### B. Objects / Arrays (Copy by Reference ‚Äî ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà)
```javascript
const original = { name: "Dolar" };
const copy = original; // copy ‡πÑ‡∏î‡πâ "‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô" ‡∏Ç‡∏≠‡∏á original ‡πÑ‡∏õ (‡∏ä‡∏µ‡πâ‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô!)

copy.name = "Somchai";

console.log(original.name); // "Somchai" üò± (‡πÇ‡∏î‡∏ô‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏î‡πâ‡∏ß‡∏¢!)
console.log(copy.name);     // "Somchai"
```
> üì¶ ‡∏à‡∏¥‡∏ô‡∏ï‡∏ô‡∏≤‡∏Å‡∏≤‡∏£: ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ñ‡πà‡∏≤‡∏¢‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ ‡πÅ‡∏ï‡πà‡πÉ‡∏´‡πâ **"‡∏Å‡∏∏‡∏ç‡πÅ‡∏à‡∏ö‡πâ‡∏≤‡∏ô‡∏ï‡∏±‡∏ß‡∏™‡∏≥‡∏£‡∏≠‡∏á (Spare Key)"** ‡πÑ‡∏õ ‚Äî ‡πÉ‡∏Ñ‡∏£‡∏Å‡πá‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏∏‡∏ç‡πÅ‡∏à ‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≤‡∏á‡πÉ‡∏ô‡πÑ‡∏î‡πâ‡∏´‡∏°‡∏î!

### üß† Challenge: Clone or Alias?
‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏≠‡∏∞‡πÑ‡∏£?
```javascript
const fruits = ["Apple", "Banana"];
const snacks = fruits;
snacks.push("Cherry");

console.log(fruits.length);
console.log(snacks.length);
```

::: details ‚ú® ‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢
‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà‡πÑ‡∏î‡πâ **3** ‡∏Ñ‡∏£‡∏±‡∏ö!
`snacks = fruits` ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ copy Array ‡πÉ‡∏´‡∏°‡πà ‡πÅ‡∏ï‡πà **‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏°** (Alias) ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô `push("Cherry")` ‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ó‡∏±‡πâ‡∏á `fruits` ‡πÅ‡∏•‡∏∞ `snacks`
:::

## 2. ‡∏ó‡∏≥‡πÑ‡∏° `const` ‡∏ñ‡∏∂‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏™‡πâ‡πÉ‡∏ô‡πÑ‡∏î‡πâ? ü§î

‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏¢‡∏≠‡∏î‡∏Æ‡∏¥‡∏ï! ‡∏°‡∏≤‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô:

```javascript
const hero = { name: "Batman" };

// ‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏™‡πâ‡πÉ‡∏ô (Mutate) ‡πÑ‡∏î‡πâ
hero.name = "Superman";
hero.power = "Flight";

// ‚ùå ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Å‡∏•‡πà‡∏≠‡∏á (Reassign) ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ!
hero = { name: "Spiderman" }; // TypeError: Assignment to constant variable.
```

> **‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö:**
> *   `const` = ‡∏Ñ‡∏∏‡∏ì‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ß‡πà‡∏≤ **"‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ ‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Å‡∏•‡πà‡∏≠‡∏á"**
> *   ‡πÅ‡∏ï‡πà **"‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≤‡∏á‡πÉ‡∏ô‡∏Å‡∏•‡πà‡∏≠‡∏á"** ‡∏à‡∏∞‡πÄ‡∏≠‡∏≤‡∏≠‡∏≠‡∏Å ‡πÄ‡∏≠‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏Å‡πá‡πÑ‡∏î‡πâ!

### üìä `const` Behavior Table

| Data Type | ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤ (Reassign) | ‡πÅ‡∏Å‡πâ‡πÑ‡∏™‡πâ‡πÉ‡∏ô (Mutate) |
| :--- | :---: | :---: |
| **Primitive** (`const x = 5`) | ‚ùå ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ | ‚Äî (‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏™‡πâ‡πÉ‡∏ô) |
| **Object** (`const obj = {}`) | ‚ùå ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ | ‚úÖ **‡πÑ‡∏î‡πâ!** |
| **Array** (`const arr = []`) | ‚ùå ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ | ‚úÖ **‡πÑ‡∏î‡πâ!** |

### üß† Challenge: Const Guardian
‡πÇ‡∏Ñ‡πâ‡∏î‡πÑ‡∏´‡∏ô‡∏à‡∏∞ Error?
1. `const x = 10; x = 20;`
2. `const arr = [1]; arr.push(2);`
3. `const obj = {}; obj.name = "Hi";`
4. `const arr = [1]; arr = [1, 2];`

::: details ‚ú® ‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢
1. ‚ùå **Error** ‚Äî Primitive + const = ‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î
2. ‚úÖ **‡πÑ‡∏î‡πâ** ‚Äî ‡πÅ‡∏Å‡πâ‡πÑ‡∏™‡πâ‡πÉ‡∏ô Array (Mutate) ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Å‡∏•‡πà‡∏≠‡∏á
3. ‚úÖ **‡πÑ‡∏î‡πâ** ‚Äî ‡πÄ‡∏û‡∏¥‡πà‡∏° Property ‡πÉ‡∏ô Object (Mutate)
4. ‚ùå **Error** ‚Äî ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Å‡∏•‡πà‡∏≠‡∏á (Reassign) ‡∏î‡πâ‡∏ß‡∏¢ `=` ‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡πâ‡∏á‡∏ï‡∏±‡∏ß!
:::

## 3. Comparison Trap (‡∏Å‡∏±‡∏ö‡∏î‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö) ‚öñÔ∏è

```javascript
// Primitives: ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö "‡∏Ñ‡πà‡∏≤"
console.log(5 === 5);         // true ‚úÖ
console.log("Hi" === "Hi");  // true ‚úÖ

// Objects/Arrays: ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö "‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà" (Reference)!
console.log([1, 2] === [1, 2]); // false üò± (‡∏Ñ‡∏ô‡∏•‡∏∞‡∏Å‡∏•‡πà‡∏≠‡∏á!)
console.log({} === {});         // false üò±

// ‡∏ä‡∏µ‡πâ‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏ñ‡∏∂‡∏á‡∏à‡∏∞ true
const a = [1, 2];
const b = a;
console.log(a === b); // true ‚úÖ (‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô)
```

> **‡∏Å‡∏é‡πÄ‡∏´‡∏•‡πá‡∏Å:** Object/Array ‡πÉ‡∏ä‡πâ `===` ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏à‡∏∞‡πÄ‡∏ä‡πá‡∏Ñ‡πÅ‡∏Ñ‡πà‡∏ß‡πà‡∏≤ **‡πÄ‡∏õ‡πá‡∏ô Reference ‡∏ï‡∏±‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÑ‡∏´‡∏°** ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡πá‡∏Ñ‡∏Ñ‡πà‡∏≤‡∏Ç‡πâ‡∏≤‡∏á‡πÉ‡∏ô!

### üß† Challenge: Same or Different?
```javascript
const x = { score: 100 };
const y = { score: 100 };
const z = x;
```
1. `x === y` ?
2. `x === z` ?
3. `x.score === y.score` ?

::: details ‚ú® ‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢
1. ‚ùå `false` ‚Äî ‡∏Ñ‡∏ô‡∏•‡∏∞ Object (‡∏Ñ‡∏ô‡∏•‡∏∞ Reference ‡πÉ‡∏ô Heap)
2. ‚úÖ `true` ‚Äî `z` ‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö `x`
3. ‚úÖ `true` ‚Äî `.score` ‡πÄ‡∏õ‡πá‡∏ô Number (Primitive) ‚Üí ‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö "‡∏Ñ‡πà‡∏≤" ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà Reference
:::

## 4. How to Actually Copy? (‡∏ß‡∏¥‡∏ò‡∏µ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏à‡∏£‡∏¥‡∏á‡πÜ) üìã

### A. Shallow Copy (‡∏™‡∏≥‡πÄ‡∏ô‡∏≤‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)
**Spread Operator (`...`)** ‚Äî ‡∏ß‡∏¥‡∏ò‡∏µ‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°!

```javascript
// Copy Array
const original = [1, 2, 3];
const clone = [...original]; // ‡∏™‡∏£‡πâ‡∏≤‡∏á Array ‡πÉ‡∏´‡∏°‡πà ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô
clone.push(4);
console.log(original); // [1, 2, 3] (‡πÑ‡∏°‡πà‡πÇ‡∏î‡∏ô‡∏Å‡∏£‡∏∞‡∏ó‡∏ö! ‚úÖ)

// Copy Object
const user = { name: "Dolar", age: 25 };
const userCopy = { ...user }; // ‡∏™‡∏£‡πâ‡∏≤‡∏á Object ‡πÉ‡∏´‡∏°‡πà ‡∏°‡∏µ Properties ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô
userCopy.name = "Somchai";
console.log(user.name); // "Dolar" (‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢! ‚úÖ)
```

### ‚ö†Ô∏è Shallow Copy Warning (‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô: ‡∏•‡∏∂‡∏Å‡πÅ‡∏Ñ‡πà‡∏ä‡∏±‡πâ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß!)
```javascript
const team = {
    name: "Avengers",
    members: ["Iron Man", "Thor"], // ‚Üê Array ‡∏Ç‡πâ‡∏≤‡∏á‡πÉ‡∏ô (Nested Object)
};

const teamCopy = { ...team };
teamCopy.members.push("Hulk"); // üò±

console.log(team.members); // ["Iron Man", "Thor", "Hulk"]
// ‡πÇ‡∏î‡∏ô‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏î‡πâ‡∏ß‡∏¢! ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ Spread Copy ‡πÅ‡∏Ñ‡πà‡∏ä‡∏±‡πâ‡∏ô‡πÅ‡∏£‡∏Å (Shallow)
// members ‡∏¢‡∏±‡∏á‡∏ä‡∏µ‡πâ‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏°‡∏≠‡∏¢‡∏π‡πà!
```

### B. Deep Copy (‡∏™‡∏≥‡πÄ‡∏ô‡∏≤‡∏ó‡∏∏‡∏Å‡∏ä‡∏±‡πâ‡∏ô) ‚Äî `structuredClone()`
‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà ES2022 ‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô **`structuredClone()`** (**Structured Clone** ‚Äî ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏•‡∏∂‡∏Å‡∏ó‡∏∏‡∏Å‡∏ä‡∏±‡πâ‡∏ô) ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏£‡∏π‡∏õ:

```javascript
const team = {
    name: "Avengers",
    members: ["Iron Man", "Thor"],
};

const deepCopy = structuredClone(team);
deepCopy.members.push("Hulk");

console.log(team.members);     // ["Iron Man", "Thor"] ‚úÖ ‡πÑ‡∏°‡πà‡πÇ‡∏î‡∏ô‡∏Å‡∏£‡∏∞‡∏ó‡∏ö!
console.log(deepCopy.members); // ["Iron Man", "Thor", "Hulk"]
```

> **‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ:**
> *   **Mutate** (‡∏Å‡∏•‡∏≤‡∏¢‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå): ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡πâ‡∏≤‡∏á‡πÉ‡∏ô‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡πÉ‡∏´‡∏°‡πà
> *   **Shallow Copy** (‡∏™‡∏≥‡πÄ‡∏ô‡∏≤‡∏ï‡∏∑‡πâ‡∏ô): ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏Ñ‡πà‡∏ä‡∏±‡πâ‡∏ô‡πÅ‡∏£‡∏Å ‡∏ä‡∏±‡πâ‡∏ô‡∏•‡∏∂‡∏Å‡∏¢‡∏±‡∏á‡∏ä‡∏µ‡πâ‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏°
> *   **Deep Copy** (‡∏™‡∏≥‡πÄ‡∏ô‡∏≤‡∏•‡∏∂‡∏Å): ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏ó‡∏∏‡∏Å‡∏ä‡∏±‡πâ‡∏ô ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏ä‡∏µ‡πâ‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏°‡πÄ‡∏•‡∏¢
> *   **Spread Operator `...`** (‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢): Syntax ‡∏ó‡∏µ‡πà "‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢" ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å Array/Object

---

## 5. Challenge: The Cloning Lab üß™
‡∏à‡∏á‡∏ó‡∏≤‡∏¢‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Ç‡∏≠‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ:

```javascript
const config = {
    theme: "dark",
    settings: { fontSize: 14, lang: "th" },
};

const backup = { ...config };
backup.theme = "light";
backup.settings.fontSize = 20;

console.log(config.theme);           // (1)?
console.log(config.settings.fontSize); // (2)?
```

::: details ‚ú® ‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢
1. `"dark"` ‚Äî `theme` ‡πÄ‡∏õ‡πá‡∏ô String (Primitive) ‚Üí Spread Copy ‡∏Ñ‡πà‡∏≤‡πÑ‡∏õ‡∏à‡∏£‡∏¥‡∏á‡πÜ
2. `20` üò± ‚Äî `settings` ‡πÄ‡∏õ‡πá‡∏ô Object (Reference) ‚Üí Spread Copy ‡πÅ‡∏Ñ‡πà "‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà" ‚Üí ‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏¢‡∏±‡∏á‡∏ä‡∏µ‡πâ `settings` ‡∏ï‡∏±‡∏ß‡πÄ‡∏î‡∏¥‡∏°!

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:** ‡πÉ‡∏ä‡πâ `structuredClone(config)` ‡πÅ‡∏ó‡∏ô `{ ...config }` ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ Object ‡∏ã‡πâ‡∏≠‡∏ô Object
:::

---
üëâ **[‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå: Project - The Console Todo List](/05-project-todo)**
