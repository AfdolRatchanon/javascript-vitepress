# 12.1 Capstone Project: E-Commerce API

> *"The journey is the destination."*

‡∏Ç‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö! üéâ
‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏°‡∏≤‡∏ñ‡∏∂‡∏á module ‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≠‡∏£‡πå‡∏™ Node.js Backend ‡πÅ‡∏•‡πâ‡∏ß
‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÅ‡∏Ñ‡πà `console.log("Hello")` ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á REST API, ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Database, ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ File Upload ‡πÅ‡∏•‡∏∞‡∏ß‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏ö Security ‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß

‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£ **"‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏Ç‡∏≠‡∏á"** ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏°‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏°‡∏≤‡∏ó‡∏≥‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏à‡∏ö (Capstone Project) ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏¢‡∏≠‡∏î‡∏Æ‡∏¥‡∏ï‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏á‡∏≤‡∏ô
‡∏ô‡∏±‡πà‡∏ô‡∏Ñ‡∏∑‡∏≠ **"‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå (E-Commerce API)"**

---

## üèóÔ∏è Project Overview

‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á Backend API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤ ‡πÇ‡∏î‡∏¢‡∏°‡∏µ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:

### üë• 1. Users & Auth
- ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å (Register) / ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö (Login)
- ‡πÅ‡∏ö‡πà‡∏á Role: `User` (‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á) ‡πÅ‡∏•‡∏∞ `Admin` (‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡πâ‡∏≤‡∏ô)
- ‡πÉ‡∏ä‡πâ JWT Authentication

### üõçÔ∏è 2. Products
- `GET /products`: ‡∏î‡∏π‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (Sort, Filter, Pagination)
- `POST /products`: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (‡∏°‡∏µ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û, ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Admin)
- `PUT / DELETE`: ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç/‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Admin)

### üõí 3. Cart & Orders
- `POST /cart`: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
- `POST /orders`: ‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (‡∏™‡∏£‡πâ‡∏≤‡∏á Order)
- `GET /orders`: ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á

---

## üõ†Ô∏è Tech Stack Integration

‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏°‡∏≤:
- **Node.js + Express**: ‡πÄ‡∏õ‡πá‡∏ô Core Server
- **MongoDB + Mongoose**: ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (Users, Products, Orders)
  - ‡πÉ‡∏ä‡πâ **Schema Validation**
  - ‡πÉ‡∏ä‡πâ **Population** (‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° User <-> Order)
- **JWT + bcrypt**: ‡∏ó‡∏≥ Authentication
- **Multer**: ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
- **dotenv**: ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö
- **Security**: Helmet, CORS, Rate Limit

---

## üó∫Ô∏è Database Design (Schema)

### User
```json
{
  "username": "somchai",
  "password": "$2a$10$...",
  "role": "user", // or "admin"
  "address": "Bangkok..."
}
```

### Product
```json
{
  "name": "Mechanical Keyboard",
  "price": 3500,
  "description": "Clicky switch...",
  "imageUrl": "/uploads/keyboard.jpg",
  "stock": 10
}
```

### Order
```json
{
  "user": ObjectId("...somchai..."),
  "items": [
    { "product": ObjectId("...keyboard..."), "quantity": 1 }
  ],
  "totalPrice": 3500,
  "status": "pending", // paid, shipped
  "createdAt": ISODate("...")
}
```

---

‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö?
‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡πÄ‡∏Ç‡πâ‡∏≤‡∏•‡∏∂‡∏Å‡πÜ... ‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏™‡∏±‡∏Å‡πÅ‡∏Å‡πâ‡∏ß... ‚òï
‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏õ‡∏•‡∏∏‡∏¢‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡∏¢! **Project: E-Commerce API**

> üëâ **‡πÑ‡∏õ‡∏ï‡πà‡∏≠: [Project: E-Commerce API](/node/12-project-ecommerce-api)**
