# 04-1: HTTP & Web Server Basics (‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå) üåê

> **"The HTTP protocol is the foundation of the World Wide Web."**
> ‚Äî *MDN Web Docs*

‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà‡∏ö‡∏ó‡πÉ‡∏´‡∏°‡πà! ‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤‡πÄ‡∏£‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏£‡∏±‡∏ô‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á (Local) ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á ‡πÅ‡∏ï‡πà‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ... ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏° **"‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡∏ä‡∏≤‡∏ß‡∏ö‡πâ‡∏≤‡∏ô"** ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏£‡∏±‡∏ö! üöÄ

‡πÉ‡∏ô‡∏ö‡∏ó‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô Node.js ‡∏à‡∏≤‡∏Å‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤ ‡πÉ‡∏´‡πâ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô **Web Server** ‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏à‡∏≤‡∏Å Browser ‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô‡∏Å‡πá‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡πÇ‡∏•‡∏Å!

---

## 1. Web Server ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£? (The Big Picture) üñºÔ∏è

‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡πà‡∏≤ "Web" ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á?

### The Client-Server Model
‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡πá‡∏ö ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á 2 ‡∏ù‡∏±‡πà‡∏á‡πÄ‡∏™‡∏°‡∏≠:

1.  **Client (‡∏ú‡∏π‡πâ‡∏Ç‡∏≠):** ‡∏Ñ‡∏∑‡∏≠ Browser (Chrome, Edge), Mobile App ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ß‡πá‡∏ö
2.  **Server (‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ):** ‡∏Ñ‡∏∑‡∏≠ ‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡∏ó‡∏¥‡πâ‡∏á‡πÑ‡∏ß‡πâ 24 ‡∏ä‡∏°. ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏≠‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏•‡∏±‡∏ö

> **üí° Analogy (‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö): ‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£** üçΩÔ∏è
>
> ‡∏•‡∏≠‡∏á‡∏ô‡∏∂‡∏Å‡∏†‡∏≤‡∏û‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö `google.com` ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£:
>
> 1.  **Client (‡∏Ñ‡∏∏‡∏ì):** ‡∏î‡∏π‡πÄ‡∏°‡∏ô‡∏π‡πÅ‡∏•‡πâ‡∏ß‡∏™‡∏±‡πà‡∏á "‡∏Ç‡∏≠‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡∏£‡∏ß‡∏°‡∏°‡∏¥‡∏ï‡∏£" (‡∏™‡πà‡∏á **Request**) üó£Ô∏è
> 2.  **Waiter (Network):** ‡∏à‡∏î‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå ‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ‡∏™‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏£‡∏±‡∏ß üìù
> 3.  **Server (‡∏´‡πâ‡∏≠‡∏á‡∏Ñ‡∏£‡∏±‡∏ß):** ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ó‡∏≥‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå ‡∏õ‡∏£‡∏∏‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£ (Process) üç≥
> 4.  **Waiter (Network):** ‡∏¢‡∏Å‡∏à‡∏≤‡∏ô‡∏°‡∏≤‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü (‡∏™‡πà‡∏á **Response**) üç≤
> 5.  **Client (‡∏Ñ‡∏∏‡∏ì):** ‡πÑ‡∏î‡πâ‡∏Å‡∏¥‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£ (Browser ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö) üòã
>
> **Node.js** ‡∏Ñ‡∏∑‡∏≠ **"‡πÄ‡∏ã‡∏ü‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏Ñ‡∏£‡∏±‡∏ß"** ‡∏ó‡∏µ‡πà‡∏Ñ‡∏≠‡∏¢‡∏£‡∏≠‡∏£‡∏±‡∏ö‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∏‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ô‡∏±‡πà‡∏ô‡πÄ‡∏≠‡∏á!

---

## 2. HTTP Protocol: ‡∏†‡∏≤‡∏©‡∏≤‡∏Å‡∏•‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£ üó£Ô∏è

‡∏ñ‡πâ‡∏≤ Client ‡∏û‡∏π‡∏î‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ ‡πÅ‡∏ï‡πà Server ‡∏û‡∏π‡∏î‡∏†‡∏≤‡∏©‡∏≤‡∏ç‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏ô ‡∏Ñ‡∏á‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á ‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö?
‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏Å‡πá‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ "‡∏†‡∏≤‡∏©‡∏≤‡∏Å‡∏•‡∏≤‡∏á" ‡∏ó‡∏µ‡πà‡∏ï‡∏Å‡∏•‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏ß‡πâ ‡∏ã‡∏∂‡πà‡∏á‡∏Å‡πá‡∏Ñ‡∏∑‡∏≠ **HTTP (HyperText Transfer Protocol)**

‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ô ‡∏à‡∏∞‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ 2 ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏™‡∏°‡∏≠:

### 2.1 Request (‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏à‡∏≤‡∏Å Client) üì§
‡∏ã‡∏≠‡∏á‡∏à‡∏î‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏µ‡πà Client ‡∏™‡πà‡∏á‡∏°‡∏≤ ‡∏ö‡∏≠‡∏Å Server ‡∏ß‡πà‡∏≤ "‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏î‡πâ‡∏≠‡∏∞‡πÑ‡∏£":
- **Method:** ‡∏ó‡πà‡∏≤‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ó‡∏≥ (GET=‡∏Ç‡∏≠, POST=‡∏™‡πà‡∏á, DELETE=‡∏•‡∏ö)
- **URL:** ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏î‡πâ (‡πÄ‡∏ä‡πà‡∏ô `/products`)
- **Headers:** ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏™‡∏£‡∏¥‡∏° (‡πÄ‡∏ä‡πà‡∏ô `User-Agent: Chrome`, `Accept-Language: th`)
- **Body:** ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏ö‡∏°‡∏≤ (‡πÄ‡∏ä‡πà‡∏ô ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô)

### 2.2 Response (‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏à‡∏≤‡∏Å Server) üì•
‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏û‡∏±‡∏™‡∏î‡∏∏‡∏ó‡∏µ‡πà Server ‡∏™‡πà‡∏á‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ:
- **Status Code:** ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå (200=OK, 404=Not Found)
- **Headers:** ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏™‡∏£‡∏¥‡∏° (‡πÄ‡∏ä‡πà‡∏ô `Content-Type: text/html`)
- **Body:** ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏à‡∏£‡∏¥‡∏á‡πÜ (HTML, JSON, ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û)

---

## 3. ‡∏™‡∏£‡πâ‡∏≤‡∏á Web Server ‡πÅ‡∏£‡∏Å‡∏î‡πâ‡∏ß‡∏¢ Node.js üõ†Ô∏è

Node.js ‡∏°‡∏µ Module ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡∏ß‡∏ä‡∏∑‡πà‡∏≠ **`http`** ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å ‡πÉ‡∏ä‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á Server ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏á‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `server.js`:

```javascript
// server.js
const http = require('http'); // 1. ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ module http

// 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á Server
// callback ‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô "‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á" ‡∏ó‡∏µ‡πà‡∏°‡∏µ Request ‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤
const server = http.createServer((req, res) => {
    console.log('üì® ‡∏°‡∏µ‡∏Ñ‡∏ô‡∏™‡πà‡∏á Request ‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤!');

    // 3. ‡∏™‡πà‡∏á Response ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ
    res.writeHead(200, { 'Content-Type': 'text/plain; charset=utf-8' }); // info
    res.end('‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏ä‡∏≤‡∏ß‡πÇ‡∏•‡∏Å! üåç Hello World!'); // ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤
});

// 4. ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î Server ‡∏£‡∏≠‡∏£‡∏±‡∏ö connection (Listen)
const PORT = 3000;
server.listen(PORT, () => {
    console.log(`üöÄ Server ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà http://localhost:${PORT}`);
});
```

### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏±‡∏ô
1. ‡πÄ‡∏õ‡∏¥‡∏î Terminal ‡∏û‡∏¥‡∏°‡∏û‡πå `node server.js`
2. ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° `üöÄ Server ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà http://localhost:3000`
3. ‡πÄ‡∏õ‡∏¥‡∏î Browser (Chrome) ‡πÑ‡∏õ‡∏ó‡∏µ‡πà `http://localhost:3000`
4. ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° **"‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏ä‡∏≤‡∏ß‡πÇ‡∏•‡∏Å! üåç Hello World!"** ‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö üéâ
5. ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏î‡∏π Terminal ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô `üì® ‡∏°‡∏µ‡∏Ñ‡∏ô‡∏™‡πà‡∏á Request ‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤!` (‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏Ç‡∏∂‡πâ‡∏ô 2 ‡∏£‡∏≠‡∏ö ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ Browser ‡∏ä‡∏≠‡∏ö‡∏Ç‡∏≠ `favicon.ico` ‡πÅ‡∏ñ‡∏°‡∏°‡∏≤‡∏î‡πâ‡∏ß‡∏¢)

> **üí° ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÇ‡∏Ñ‡πâ‡∏î:**
> *   `http.createServer()`: ‡∏™‡∏£‡πâ‡∏≤‡∏á "‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö" ‡∏Ñ‡∏≠‡∏¢‡∏¢‡∏∑‡∏ô‡∏£‡∏≠
> *   `(req, res) => { ... }`: ‡∏Ñ‡∏∑‡∏≠‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏à‡∏∞‡∏ó‡∏≥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤
> *   `req` (Request): ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ (‡πÄ‡∏Ç‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏î‡πâ‡∏≠‡∏∞‡πÑ‡∏£)
> *   `res` (Response): ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏Å‡∏•‡∏±‡∏ö (‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏≠‡∏∞‡πÑ‡∏£)
> *   `server.listen(3000)`: ‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡πâ‡∏≤‡∏ô! (Bind port 3000 ‡∏£‡∏≠‡∏£‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤)

---

## 4. ‡πÄ‡∏à‡∏≤‡∏∞‡∏•‡∏∂‡∏Å `req` ‡πÅ‡∏•‡∏∞ `res` üîç

`req` ‡πÅ‡∏•‡∏∞ `res` ‡πÄ‡∏õ‡πá‡∏ô Object ‡∏û‡∏¥‡πÄ‡∏®‡∏© (‡∏à‡∏£‡∏¥‡∏á‡πÜ ‡∏Ñ‡∏∑‡∏≠ **Streams**) ‡∏ó‡∏µ‡πà Node.js ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤:

### `req` (IncomingMessage)
‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà Client ‡∏™‡πà‡∏á‡∏°‡∏≤
*   `req.url`: ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏´‡∏ô? (‡πÄ‡∏ä‡πà‡∏ô `/`, `/about`, `/users`)
*   `req.method`: ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏ò‡∏µ‡πÑ‡∏´‡∏ô? (`GET`, `POST`)
*   `req.headers`: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏±‡∏ö‡πÜ ‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏ö‡∏°‡∏≤

### `res` (ServerResponse)
‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö
*   `res.writeHead(status, headers)`: ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏´‡∏±‡∏ß‡∏à‡∏î‡∏´‡∏°‡∏≤‡∏¢ (‡∏ö‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏•‡∏∞‡∏ä‡∏ô‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)
*   `res.write(data)`: ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ (‡∏™‡πà‡∏á‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏≠‡∏ö ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏õ‡πá‡∏ô Stream)
*   `res.end(data)`: ‡∏à‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á (‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÄ‡∏™‡∏°‡∏≠ ‡πÑ‡∏°‡πà‡∏á‡∏±‡πâ‡∏ô Browser ‡∏à‡∏∞‡∏´‡∏°‡∏∏‡∏ô‡∏ï‡∏¥‡πâ‡∏ß‡πÜ ‡πÑ‡∏°‡πà‡∏´‡∏¢‡∏∏‡∏î!)

‡∏•‡∏≠‡∏á‡πÅ‡∏Å‡πâ `server.js` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• `req`:

```javascript
const http = require('http');

const server = http.createServer((req, res) => {
    // ‡∏î‡∏π‡∏ã‡∏¥‡∏ß‡πà‡∏≤‡πÉ‡∏Ñ‡∏£‡∏°‡∏≤‡∏Ç‡∏≠‡∏≠‡∏∞‡πÑ‡∏£
    console.log('--- New Request ---');
    console.log('Method:', req.method);
    console.log('URL:   ', req.url);
    
    // ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö
    res.writeHead(200, { 'Content-Type': 'text/html' });
    res.write('<h1>Info Received</h1>');
    res.write(`<p>You requested: <b>${req.url}</b></p>`);
    res.write(`<p>With method: <b>${req.method}</b></p>`);
    res.end(); // ‡∏à‡∏ö‡∏Ç‡πà‡∏≤‡∏ß
});

server.listen(3000, () => console.log('Server running...'));
```

---

## 5. HTTP Status Codes: ‡∏£‡∏´‡∏±‡∏™‡∏•‡∏±‡∏ö‡∏ö‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ üî¢

‡πÄ‡∏ß‡∏•‡∏≤ Server ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à ‡∏ï‡πâ‡∏≠‡∏á‡∏ö‡∏≠‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏ß‡πà‡∏≤ "‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à" ‡∏´‡∏£‡∏∑‡∏≠ "‡∏û‡∏±‡∏á" ‡∏ú‡πà‡∏≤‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç 3 ‡∏´‡∏•‡∏±‡∏Å

| ‡∏Å‡∏•‡∏∏‡πà‡∏° (Range) | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢ | ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏à‡∏≠‡∏ö‡πà‡∏≠‡∏¢ |
|:---:|:---|:---|
| **2xx** | ‚úÖ ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (Success) | **200 OK** (‡∏õ‡∏Å‡∏ï‡∏¥), **201 Created** (‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß) |
| **3xx** | ‚Ü©Ô∏è ‡∏¢‡πâ‡∏≤‡∏¢‡∏ó‡∏µ‡πà (Redirect) | **301 Moved Permanently** (‡∏¢‡πâ‡∏≤‡∏¢‡∏ñ‡∏≤‡∏ß‡∏£), **304 Not Modified** (‡πÉ‡∏ä‡πâ Cache ‡πÄ‡∏î‡∏¥‡∏°‡πÄ‡∏ñ‡∏≠‡∏∞) |
| **4xx** | ‚ùå ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ú‡∏¥‡∏î (Client Error) | **400 Bad Request** (‡∏™‡πà‡∏á‡∏≠‡∏∞‡πÑ‡∏£‡∏°‡∏≤?), **404 Not Found** (‡∏´‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠), **403 Forbidden** (‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤) |
| **5xx** | üí• ‡∏£‡πâ‡∏≤‡∏ô‡∏ú‡∏¥‡∏î (Server Error) | **500 Internal Server Error** (‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ö‡∏∂‡πâ‡∏°), **503 Service Unavailable** (‡∏£‡∏±‡∏ö‡πÅ‡∏Ç‡∏Å‡πÑ‡∏°‡πà‡πÑ‡∏´‡∏ß‡πÅ‡∏•‡πâ‡∏ß) |

> üí° **Trick:**
> *   **2xx** = ‡∏¢‡∏¥‡πâ‡∏°‡πÅ‡∏â‡πà‡∏á (Good) üòÅ
> *   **4xx** = ‡πÄ‡∏≠‡πá‡∏á‡∏ú‡∏¥‡∏î (You messed up) ü´µ
> *   **5xx** = ‡∏Ç‡πâ‡∏≤‡∏ú‡∏¥‡∏î (I messed up) ü§ï

---

## 6. Content-Type (MIME Types) üì¶

Server ‡∏ï‡πâ‡∏≠‡∏á‡∏ö‡∏≠‡∏Å Browser ‡∏î‡πâ‡∏ß‡∏¢‡∏ß‡πà‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ Browser ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ñ‡∏π‡∏Å:

| Content-Type | ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£ | Browser ‡∏ó‡∏≥‡∏¢‡∏±‡∏á‡πÑ‡∏á |
|:---|:---|:---|
| `text/plain` | ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡πâ‡∏ß‡∏ô | ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤ (‡πÑ‡∏°‡πà‡πÄ‡∏£‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå HTML) |
| `text/html` | HTML | ‡πÄ‡∏£‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏° |
| `application/json` | JSON Data | ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô Text (‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°‡∏ñ‡πâ‡∏≤‡∏°‡∏µ Extension) **‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢‡πÉ‡∏ô API** |
| `image/jpeg` | ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û | ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ |

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á JSON (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏≥ API):**

```javascript
// api-server.js
const http = require('http');

const server = http.createServer((req, res) => {
    const data = {
        name: "Dolar",
        role: "Developer",
        skills: ["Node.js", "React", "SQL"]
    };

    // ‡∏ö‡∏≠‡∏Å Browser ‡∏ß‡πà‡∏≤ "‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ JSON ‡∏ô‡∏∞"
    res.writeHead(200, { 'Content-Type': 'application/json' });
    
    // ‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏õ‡∏•‡∏á Object ‡πÄ‡∏õ‡πá‡∏ô String ‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á (‡πÄ‡∏û‡∏£‡∏≤‡∏∞ HTTP ‡∏™‡πà‡∏á‡πÑ‡∏î‡πâ‡πÅ‡∏Ñ‡πà Text/Binary)
    res.end(JSON.stringify(data));
});

server.listen(3000);
```

---

---

## 7. Anatomy of an HTTP Transaction: ‡∏ú‡πà‡∏≤‡∏ï‡∏±‡∏î‡∏Ñ‡∏≥‡∏Ç‡∏≠ üè•

‡∏à‡∏£‡∏¥‡∏á‡πÜ ‡πÅ‡∏•‡πâ‡∏ß `req` ‡πÅ‡∏•‡∏∞ `res` ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÅ‡∏Ñ‡πà Object ‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤ ‡πÅ‡∏ï‡πà‡∏°‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠ **Stream** ‡∏ó‡∏µ‡πà‡∏™‡∏∑‡∏ö‡∏ó‡∏≠‡∏î‡∏°‡∏≤‡∏à‡∏≤‡∏Å `net.Socket` (TCP Layer)

### 7.1 `req` ‡∏Ñ‡∏∑‡∏≠ Readable Stream üì§
‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Client ‡πÑ‡∏´‡∏•‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤ (‡πÄ‡∏ä‡πà‡∏ô Upload ‡πÑ‡∏ü‡∏•‡πå) ‡∏°‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏ï‡∏π‡∏°‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡πÅ‡∏ï‡πà‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô **Chunk** (‡∏ä‡∏¥‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡πÜ)
*   ‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ event `data` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
*   ‡πÉ‡∏ä‡πâ event `end` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß

### 7.2 `res` ‡∏Ñ‡∏∑‡∏≠ Writable Stream üì•
‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ `res.write()` ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡πâ‡∏≠‡∏ô‡πÜ ‡πÑ‡∏î‡πâ (Chunk Transfer Encoding) ‡∏ó‡∏≥‡πÉ‡∏´‡πâ Browser ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏ô‡πâ‡∏≤!

---

## 8. Security: ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏à‡∏°‡∏ï‡∏µ (DoS) üõ°Ô∏è

Web Server ‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏£‡∏≤‡∏∞‡∏ö‡∏≤‡∏á! ‡∏°‡∏≤‡∏î‡∏π‡∏†‡∏±‡∏¢‡∏Ñ‡∏∏‡∏Å‡∏Ñ‡∏≤‡∏°‡∏¢‡∏≠‡∏î‡∏Æ‡∏¥‡∏ï:

### 8.1 Slowloris Attack (‡πÄ‡∏ï‡πà‡∏≤‡∏Ñ‡∏•‡∏≤‡∏ô) üê¢
**‡∏ß‡∏¥‡∏ò‡∏µ‡πÇ‡∏à‡∏°‡∏ï‡∏µ:** Hacker ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏°‡∏≤‡∏´‡∏≤ Server ‡πÅ‡∏ï‡πà‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ä‡πâ‡∏≤‡∏°‡∏≤‡∏Å... (1 byte ‡∏ó‡∏∏‡∏Å 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)
**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:** Server ‡∏£‡∏≠... ‡∏£‡∏≠... ‡∏à‡∏ô Connection ‡πÄ‡∏ï‡πá‡∏°! ‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ (Denial of Service)

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:** ‡∏ï‡∏±‡πâ‡∏á Timeout ‡πÉ‡∏´‡πâ Server ‡∏ï‡∏±‡∏î‡∏™‡∏≤‡∏¢‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏ô‡∏≤‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ
```javascript
server.timeout = 5000; // ‡∏ï‡∏±‡∏î‡∏™‡∏≤‡∏¢‡∏ñ‡πâ‡∏≤‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡πÄ‡∏Å‡∏¥‡∏ô 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
```

### 8.2 Payload too large (‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î‡∏ñ‡∏±‡∏á) üí£
**‡∏ß‡∏¥‡∏ò‡∏µ‡πÇ‡∏à‡∏°‡∏ï‡∏µ:** ‡∏™‡πà‡∏á JSON ‡∏Ç‡∏ô‡∏≤‡∏î 10GB ‡∏°‡∏≤‡πÉ‡∏´‡πâ Server parse
**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:** RAM Server ‡∏´‡∏°‡∏î -> Server Crash!

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:** ‡πÄ‡∏ä‡πá‡∏Ñ‡∏Ç‡∏ô‡∏≤‡∏î Data ‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÄ‡∏™‡∏°‡∏≠
```javascript
let body = [];
let size = 0;

req.on('data', chunk => {
    body.push(chunk);
    size += chunk.length;
    
    if (size > 1e6) { // ‡πÄ‡∏Å‡∏¥‡∏ô 1MB
        console.warn("Flood attack detected!");
        req.destroy(); // ‚úÇÔ∏è ‡∏ï‡∏±‡∏î‡∏™‡∏≤‡∏¢‡∏ó‡∏±‡∏ô‡∏ó‡∏µ!
    }
});
```

---

## 9. Performance Tuning: ‡∏à‡∏π‡∏ô‡πÉ‡∏´‡πâ‡πÅ‡∏£‡∏á üèéÔ∏è

### 9.1 Keep-Alive (‡∏≠‡∏¢‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏á‡∏ß‡∏≤‡∏á‡∏™‡∏≤‡∏¢)
‡∏õ‡∏Å‡∏ï‡∏¥ HTTP/1.0 ‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à‡∏à‡∏∞‡∏ï‡∏±‡∏î‡∏™‡∏≤‡∏¢‡∏ó‡∏±‡∏ô‡∏ó‡∏µ (`Connection: close`)
‡πÅ‡∏ï‡πà HTTP/1.1 ‡πÉ‡∏ä‡πâ **Keep-Alive** (‡πÄ‡∏õ‡∏¥‡∏î‡∏™‡∏≤‡∏¢‡∏Ñ‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á Request ‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏° Handshake ‡πÉ‡∏´‡∏°‡πà (‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡πÄ‡∏¢‡∏≠‡∏∞!)

Node.js ‡πÄ‡∏õ‡∏¥‡∏î Keep-Alive ‡πÉ‡∏´‡πâ‡πÇ‡∏î‡∏¢ Default (5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)

### 9.2 Max Connections (‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ñ‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤)
‡∏ñ‡πâ‡∏≤ Server ‡∏£‡∏±‡∏ö‡πÑ‡∏´‡∏ß‡πÅ‡∏Ñ‡πà 1,000 ‡∏Ñ‡∏ô ‡∏Å‡πá‡∏Ñ‡∏ß‡∏£‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÑ‡∏ß‡πâ‡πÅ‡∏Ñ‡πà‡∏ô‡∏±‡πâ‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏±‡∏ô Server ‡∏ï‡∏≤‡∏¢

```javascript
server.maxConnections = 1000; // ‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ‡πÅ‡∏Ñ‡πà‡∏ô‡∏µ‡πâ ‡πÄ‡∏Å‡∏¥‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏£‡∏≠‡∏Ñ‡∏¥‡∏ß/‡∏ï‡∏±‡∏î‡∏ó‡∏¥‡πâ‡∏á
```

---

---

## 10. Handling Query Parameters (URL Search) üîç

‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡πÄ‡∏ä‡πà‡∏ô `search?q=nodejs&page=2` ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤ `q` ‡πÅ‡∏•‡∏∞ `page` ‡∏¢‡∏±‡∏á‡πÑ‡∏á?
‡∏™‡∏°‡∏±‡∏¢‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ `url.parse` (Deprecated) ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ **`new URL()`** ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö Browser!

```javascript
const server = http.createServer((req, res) => {
    // 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á URL Object (‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà base url ‡∏´‡∏•‡∏≠‡∏Å‡πÜ ‡πÑ‡∏õ‡∏Å‡πà‡∏≠‡∏ô ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ req.url ‡∏°‡∏µ‡πÅ‡∏Ñ‡πà path)
    const myUrl = new URL(req.url, `http://${req.headers.host}`);
    
    // 2. ‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤ (searchParams)
    const keyword = myUrl.searchParams.get('q');
    const page = myUrl.searchParams.get('page') || 1;

    console.log(`üîé Searching for: ${keyword} on page ${page}`);
    
    res.end(`Results for ${keyword}`);
});
```

---

## 11. Environment Variables (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö‡∏™‡∏ß‡∏£‡∏£‡∏Ñ‡πå) ü§´

‡πÄ‡∏ß‡∏•‡∏≤ Deploy ‡∏à‡∏£‡∏¥‡∏á ‡πÄ‡∏£‡∏≤‡∏´‡πâ‡∏≤‡∏° Hardcode Port ‡∏´‡∏£‡∏∑‡∏≠ API Key! ‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ **Environment Variables**
‡∏Ñ‡πà‡∏≤‡∏û‡∏ß‡∏Å‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏â‡∏µ‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏ï‡∏≠‡∏ô‡∏£‡∏±‡∏ô Process (‡∏ú‡πà‡∏≤‡∏ô `process.env`)

### 11.1 ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ `process.env`

```javascript
// server.js
const PORT = process.env.PORT || 3000; // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ ENV ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏ä‡πâ 3000

server.listen(PORT, () => {
    console.log(`Server on port ${PORT}`);
});
```

### 11.2 ‡πÉ‡∏ä‡πâ `dotenv` (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Local)
‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env`:
```
PORT=5555
API_KEY=secret123
```

‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ:
```bash
npm install dotenv
```
```javascript
require('dotenv').config(); // ‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å .env ‡πÄ‡∏Ç‡πâ‡∏≤ process.env
console.log(process.env.PORT); // 5555
```

---

## 12. CORS: ‡∏ó‡∏≥‡πÑ‡∏° Frontend ‡∏¢‡∏¥‡∏á API ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ? üöß

‡πÄ‡∏Ñ‡∏¢‡πÑ‡∏´‡∏°? ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô React ‡∏¢‡∏¥‡∏á‡πÑ‡∏õ Node.js ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏à‡∏≠ Error ‡πÅ‡∏î‡∏á‡πÄ‡∏ñ‡∏∑‡∏≠‡∏Å:
`Access to fetch at ... has been blocked by CORS policy`

### 12.1 ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?
**CORS (Cross-Origin Resource Sharing)** ‡∏Ñ‡∏∑‡∏≠‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Ç‡∏≠‡∏á Browser ‡∏ó‡∏µ‡πà **"‡∏´‡πâ‡∏≤‡∏°"** ‡πÄ‡∏ß‡πá‡∏ö A (`localhost:3000`) ‡∏¢‡∏¥‡∏á Request ‡πÑ‡∏õ‡∏´‡∏≤‡πÄ‡∏ß‡πá‡∏ö B (`api.myserver.com`) ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡πÄ‡∏ß‡πâ‡∏ô‡πÅ‡∏ï‡πà‡πÄ‡∏ß‡πá‡∏ö B ‡∏à‡∏∞‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï

### 12.2 ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ (Server Side)
‡∏ï‡πâ‡∏≠‡∏á‡∏™‡πà‡∏á Header `Access-Control-Allow-Origin` ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ö‡∏≠‡∏Å Browser ‡∏ß‡πà‡∏≤ "‡∏¢‡∏≠‡∏°‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÑ‡∏î‡πâ‡∏ô‡∏∞"

```javascript
const server = http.createServer((req, res) => {
    // ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏ó‡∏∏‡∏Å‡πÄ‡∏ß‡πá‡∏ö (*) ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏ß‡πá‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞
    res.setHeader('Access-Control-Allow-Origin', '*'); 
    res.setHeader('Access-Control-Allow-Methods', 'GET, POST, OPTIONS');
    
    if (req.method === 'OPTIONS') {
        res.writeHead(204); // ‡∏ï‡∏≠‡∏ö Pre-flight request
        res.end();
        return;
    }
    
    res.end('Hello CORS!');
});
```

---

## 13. HTTPS: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏ö‡∏ô‡πÇ‡∏•‡∏Å‡πÑ‡∏ã‡πÄ‡∏ö‡∏≠‡∏£‡πå üîí

HTTP ‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ß‡∏¥‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô **Plain Text** (‡πÉ‡∏Ñ‡∏£‡∏î‡∏±‡∏Å‡∏à‡∏±‡∏ö‡∏Å‡πá‡∏≠‡πà‡∏≤‡∏ô‡∏£‡∏π‡πâ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á)
HTTPS ‡πÉ‡∏ä‡πâ **TLS/SSL** ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏∏‡∏ç‡πÅ‡∏à)

‡∏Å‡∏≤‡∏£‡∏ó‡∏≥ HTTPS ‡πÉ‡∏ô Node.js ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ Cert (‡πÉ‡∏ö‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á) ‡πÅ‡∏•‡∏∞ Key:

```javascript
const https = require('https');
const fs = require('fs');

const options = {
  key: fs.readFileSync('key.pem'),
  cert: fs.readFileSync('cert.pem')
};

https.createServer(options, (req, res) => {
  res.writeHead(200);
  res.end('This is Secure Server! üîí');
}).listen(443);
```

> **Note:** ‡πÉ‡∏ô‡∏ö‡∏ó‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ HTTP ‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤‡πÑ‡∏õ‡∏Å‡πà‡∏≠‡∏ô ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ HTTPS ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Cert ‡∏¢‡∏∏‡πà‡∏á‡∏¢‡∏≤‡∏Å (‡∏õ‡∏Å‡∏ï‡∏¥‡πÄ‡∏£‡∏≤‡πÉ‡∏´‡πâ Cloud Provider ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ)

---



> **üìñ ‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ (Glossary):**
> *   **Client:** ‡∏ú‡∏π‡πâ‡∏Ç‡∏≠‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ (Browser, App)
> *   **Server:** ‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ (Computer ‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ô Node.js)
> *   **Request:** ‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏à‡∏≤‡∏Å Client ‡πÑ‡∏õ‡∏´‡∏≤ Server
> *   **Response:** ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà Server ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏≤ Client
> *   **HTTP:** HyperText Transfer Protocol ‚Äî ‡∏Å‡∏é‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏ö‡∏ô‡πÄ‡∏ß‡πá‡∏ö
> *   **Port:** ‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡πÄ‡∏Ç‡πâ‡∏≤-‡∏≠‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡πÄ‡∏ä‡πà‡∏ô 3000, 80, 443)
> *   **Status Code:** ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç 3 ‡∏´‡∏•‡∏±‡∏Å‡∏ö‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (200, 404, 500)
> *   **MIME Type:** ‡∏ä‡∏ô‡∏¥‡∏î‡∏Ç‡∏≠‡∏á‡πÑ‡∏ü‡∏•‡πå/‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ (‡πÄ‡∏ä‡πà‡∏ô `text/html`, `application/json`)
> *   **Headers:** ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ô‡∏ö (Metadata) ‡∏Ç‡∏≠‡∏á Request/Response
> *   **Payload/Body:** ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÑ‡∏õ-‡∏°‡∏≤
> *   **DoS (Denial of Service):** ‡∏Å‡∏≤‡∏£‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡πÉ‡∏´‡πâ Server ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ
> *   **Keep-Alive:** ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î Connection ‡∏Ñ‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á

## 15. Challenges üèÜ

### üéØ Challenge 1: The Detective (‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 4)
‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `spy.js` ‡πÄ‡∏õ‡πá‡∏ô Server ‡∏ó‡∏µ‡πà:
1. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Ñ‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤ ‡πÉ‡∏´‡πâ log ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• "Time | Method | URL"
2. ‡∏™‡πà‡∏á Response ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏õ‡πá‡∏ô HTML `<h1>I saw you!</h1>`

::: details ‚ú® ‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢
```javascript
const http = require('http');

const server = http.createServer((req, res) => {
    const now = new Date().toLocaleTimeString();
    console.log(`[${now}] Method: ${req.method} | Target: ${req.url}`);

    res.writeHead(200, { 'Content-Type': 'text/html' });
    res.end('<h1>I saw you!</h1>');
});

server.listen(3000);
```
:::

### üéØ Challenge 2: JSON Response (‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 6)
‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `profile.js` ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• JSON (‡∏ä‡∏∑‡πà‡∏≠, ‡∏≠‡∏≤‡∏¢‡∏∏) ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ:

::: details ‚ú® ‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢
```javascript
const http = require('http');

const server = http.createServer((req, res) => {
    const profile = { name: "Dev", level: 99 };
    res.writeHead(200, { 'Content-Type': 'application/json' });
    res.end(JSON.stringify(profile));
});
server.listen(3000);
```
:::

### üéØ Challenge 3: Status 404 (‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 5)
‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `checker.js`:
*   URL `/` ‚Üí 200 OK
*   URL ‡∏≠‡∏∑‡πà‡∏ô ‚Üí 404 Not Found

::: details ‚ú® ‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢
```javascript
const http = require('http');
// ... (code ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°)
```
:::

### üéØ Challenge 4: Query Params (‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 10)
‡∏™‡∏£‡πâ‡∏≤‡∏á Server ‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö Query String `?name=...` ‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏ß‡πà‡∏≤ "Hello, [name]!":

::: details ‚ú® ‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢
```javascript
const http = require('http');

const server = http.createServer((req, res) => {
    const myUrl = new URL(req.url, `http://${req.headers.host}`);
    const name = myUrl.searchParams.get('name') || "Guest";
    
    res.end(`Hello, ${name}!`);
});
server.listen(3000);
```
:::

### üéØ Challenge 5: Environment Variables (‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 11)
‡∏à‡∏á‡πÅ‡∏Å‡πâ‡πÇ‡∏Ñ‡πâ‡∏î Server ‡πÉ‡∏´‡πâ‡∏£‡∏±‡∏ö Port ‡∏à‡∏≤‡∏Å `process.env.MY_PORT` ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ `8080`:

::: details ‚ú® ‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢
```javascript
const http = require('http');
// ...
const PORT = process.env.MY_PORT || 8080;
server.listen(PORT, () => console.log(`On port ${PORT}`));
```
:::

### üéØ Challenge 6: CORS Fix (‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 12)
Header ‡∏ï‡∏±‡∏ß‡πÑ‡∏´‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡πà‡∏á‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ Frontend ‡∏ï‡πà‡∏≤‡∏á‡πÇ‡∏î‡πÄ‡∏°‡∏ô‡∏¢‡∏¥‡∏á API ‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ?
A. `Access-Front-End: *`
B. `Access-Control-Allow-Origin: *`
C. `Allow-All: true`

::: details ‚ú® ‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢
**‡∏ï‡∏≠‡∏ö: B. Access-Control-Allow-Origin**
:::

### üéØ Challenge 7: Security Bouncer (‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 8)
(‡πÇ‡∏à‡∏ó‡∏¢‡πå‡πÄ‡∏î‡∏¥‡∏°: Blacklist IP ‡πÅ‡∏•‡πâ‡∏ß destroy socket)

::: details ‚ú® ‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢
(‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢‡πÄ‡∏î‡∏¥‡∏°)
:::

### üéØ Challenge 8: Performance (‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 9)
Keep-Alive ‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏∞‡πÑ‡∏£? (‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÄ‡∏î‡∏¥‡∏°)

::: details ‚ú® ‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢
(‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢‡πÄ‡∏î‡∏¥‡∏°)
:::






